{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\ReactApps\\\\mineshop\\\\src\\\\components\\\\utils\\\\Modal.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Plmin from './Plmin';\nimport { useDispatch } from 'react-redux';\nexport default function Modal({\n  item,\n  input,\n  plmin\n}) {\n  _s();\n\n  const [value, setValue] = React.useState('');\n  const sortRef = React.useRef();\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    document.body.addEventListener('click', handleOutsideClick);\n    return function cleanup() {\n      document.body.removeEventListener('click', handleOutsideClick);\n    };\n  }, []);\n\n  const handleOutsideClick = event => {\n    const path = event.path || event.composedPath && event.composedPath();\n\n    if (!path.includes(sortRef.current)) {\n      dispatch({\n        type: \"HIDE_MODAL\"\n      });\n      document.body.style.overflow = \"auto\";\n      const wrapper = document.querySelector('.wrapper');\n      wrapper.style.filter = \"blur(0)\";\n      console.log(\"Модальное окно закрыто.\");\n    }\n  };\n\n  const onAddItem = obj => {\n    console.log(obj);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal\",\n    ref: sortRef,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal__body\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__background\",\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"\",\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal__info\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"info\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__title\",\n            children: [item.name, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [item.sell, \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 66\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__subtitle\",\n            children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0432 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__type\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0422\\u0438\\u043F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 49,\n              columnNumber: 53\n            }, this), \" \", item.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__desc\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: item.desc\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), input ? /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"info__count\",\n            value: value,\n            onChange: e => setValue(e.target.value),\n            placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043E\\u043B-\\u0432\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 168\n          }, this), plmin ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__mp\",\n            children: /*#__PURE__*/_jsxDEV(Plmin, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 60\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 34\n          }, this) : /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 78\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"info__button\",\n            onClick: () => onAddItem(item),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 29\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"http://localhost:9999/assets/cartbutton.svg\",\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Modal, \"GyId6ctnc+Ukh+s2/kUlUkhJZJM=\", false, function () {\n  return [useDispatch];\n});\n\n_c = Modal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Modal\");","map":{"version":3,"sources":["D:/ReactApps/mineshop/src/components/utils/Modal.jsx"],"names":["React","Plmin","useDispatch","Modal","item","input","plmin","value","setValue","useState","sortRef","useRef","dispatch","useEffect","document","body","addEventListener","handleOutsideClick","cleanup","removeEventListener","event","path","composedPath","includes","current","type","style","overflow","wrapper","querySelector","filter","console","log","onAddItem","obj","name","sell","desc","e","target"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Plmin from './Plmin';\r\nimport {useDispatch} from 'react-redux';\r\n\r\nexport default function Modal({ item, input, plmin}) {\r\n\r\n    const [value, setValue] = React.useState('');\r\n    const sortRef = React.useRef();\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    React.useEffect(() => {\r\n        document.body.addEventListener('click', handleOutsideClick);\r\n\r\n        return function cleanup() {\r\n            document.body.removeEventListener('click', handleOutsideClick);\r\n        }\r\n    }, []);\r\n\r\n    const handleOutsideClick = (event) => {\r\n        const path = event.path || (event.composedPath && event.composedPath());\r\n        if (!path.includes(sortRef.current)) {\r\n          dispatch({ type: \"HIDE_MODAL\" });\r\n          document.body.style.overflow = \"auto\";\r\n\r\n          const wrapper = document.querySelector('.wrapper');\r\n          wrapper.style.filter = \"blur(0)\";\r\n\r\n          console.log(\"Модальное окно закрыто.\");\r\n        }\r\n      };\r\n\r\n    const onAddItem = (obj) => {\r\n        console.log(obj)\r\n    };\r\n\r\n    return (\r\n        <div className=\"modal\" ref={sortRef}>\r\n            <div className=\"modal__body\">\r\n                <div className=\"modal__background\">\r\n                    <img src=\"\" alt=\"\" />\r\n                </div>\r\n\r\n                <div className=\"modal__info\">\r\n                    <div className=\"info\">\r\n\r\n                        <div className=\"info__title\">{item.name} <span>{item.sell} ₽</span></div>\r\n                        <div className=\"info__subtitle\">Добавление в корзину</div>\r\n                        <div className=\"info__type\"><span>Тип:</span> {item.type}</div>\r\n                        <div className=\"info__desc\">\r\n                            <span>Описание:</span>\r\n                            <p>{item.desc}</p>\r\n                        </div>\r\n\r\n                        {input ? <input type=\"text\" className=\"info__count\" value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Введите кол-во\" /> : <span></span>}\r\n                        {plmin ? <div className=\"info__mp\"><Plmin /></div> : <span></span>}\r\n\r\n                        <div className=\"info__button\" onClick={() => onAddItem(item)}>\r\n                            <span>Добавить</span> <img src=\"http://localhost:9999/assets/cartbutton.svg\" alt=\"\" />\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}